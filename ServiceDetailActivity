package com.mrsool.service;

import android.app.Dialog;
import android.content.Intent;
import android.os.Bundle;
import android.os.StrictMode;
import android.text.TextUtils;
import android.util.Pair;
import android.view.View;
import android.view.ViewGroup;
import android.widget.FrameLayout;
import android.widget.ImageView;
import android.widget.ProgressBar;
import androidx.appcompat.widget.AppCompatTextView;
import androidx.appcompat.widget.Toolbar;
import androidx.constraintlayout.widget.ConstraintLayout;
import androidx.coordinatorlayout.widget.CoordinatorLayout;
import androidx.core.view.OnApplyWindowInsetsListener;
import androidx.core.view.ViewCompat;
import androidx.core.view.WindowInsetsCompat;
import androidx.fragment.app.Fragment;
import androidx.fragment.app.FragmentManager;
import androidx.fragment.app.FragmentTransaction;
import androidx.lifecycle.Observer;
import androidx.lifecycle.ViewModelProvider;
import bs.InterfaceC2029l;
import com.google.android.material.appbar.AppBarLayout;
import com.google.android.material.appbar.CollapsingToolbarLayout;
import com.mrsool.R;
import com.mrsool.algolia.bean.MenuResult;
import com.mrsool.bean.CTAnalyticsData;
import com.mrsool.bean.CTEventBean;
import com.mrsool.bean.DeeplinkBean;
import com.mrsool.bean.EstimatedCostDetail;
import com.mrsool.bean.FourSquareMainBean;
import com.mrsool.bean.PostOrder;
import com.mrsool.bean.ServiceManualDataBean;
import com.mrsool.bean.Shop;
import com.mrsool.bean.ShopDetails;
import com.mrsool.createorder.BranchesActivity;
import com.mrsool.newBean.BranchBean;
import com.mrsool.newBean.GetBranchList;
import com.mrsool.service.ServiceDetailActivity;
import com.mrsool.service.view.ServiceHeaderInfoView;
import com.mrsool.shopmenu.M4bCheckoutActivity;
import com.mrsool.shopmenu.MenuOrderActivityStep1;
import com.mrsool.shopmenu.MenuSearchActivity;
import com.mrsool.utils.Analytics.errorlogging.ErrorReporter;
import com.mrsool.utils.Analytics.errorlogging.SentryErrorReporter;
import com.mrsool.utils.AppSingleton;
import com.mrsool.utils.widgets.refresh.PullToRefreshView;
import io.sentry.Sentry;
import java.util.Arrays;
import java.util.HashMap;
import ml.InterfaceC28035k0;
import ml.LoadingFragment;
import ml.OrderDetailsFragment;
import ml.ServiceDetails;
import ml.ServiceDetailsFragment;
import mm.C28092f3;
import mm.Constant;
import mm.OrderDetailFlow;
import mm.StatusBarUtil;
import mm.TryCatchListener;
import org.json.JSONException;
import p016ak.DialogUtils;
import p016ak.InterfaceC0217y;
import p016ak.OnOkCallback;
import p016ak.OnYesNoCallback;
import p017an.AppBarState;
import p017an.AppBarStateChangeListener;
import p027b1.Fade;
import p027b1.TransitionManager;
import p1005kl.C27010b;
import p1005kl.FeatureFlags;
import p1070nm.AdjustLogger;
import p1070nm.AmplitudeEvents;
import p1070nm.BranchLogger;
import p1070nm.CleverTapEvents;
import p1170qr.Unit;
import p1263ul.EstimatedCostView;
import p1263ul.OrderNowActionView;
import p1263ul.OrderNowFloatingActionView;
import p1263ul.TopBannerView;
import p1290vj.C32872u;
import p1290vj.CreateOrderBean;
import p1290vj.CreateOrderViewModel;
import p1290vj.SendOrderDetailScreenManager;
import p1324wl.MenuOrderBaseActivity;
import p1357xk.OnManualDoneListner;
import p1391yk.OrderFlowHelper;
import p1393ym.ApiHandlerNew;
import p1393ym.XmppUtil;
import p819dy.C23969a0;
import p819dy.Call;
import p819dy.Callback;
import sl.OrderNowActionItem;
import sl.StoreInfoItem;
import sl.TopBannerItem;
import tl.MenuLoad;
import tl.MenuLoadingRequest;
import tl.ServiceMenuData;
import tl.ServiceMenuLoader;
import tl.ServiceMenuProviderImpl;
import tm.AbstractC32207g;

/* loaded from: classes3.dex */
public class ServiceDetailActivity extends MenuOrderBaseActivity implements View.OnClickListener, OnManualDoneListner, ServiceDetails {

    /* renamed from: A1 */
    public Fragment f76114A1;

    /* renamed from: C1 */
    private BranchLogger f76116C1;

    /* renamed from: E1 */
    private ServiceMenuLoader f76118E1;

    /* renamed from: F1 */
    Call<GetBranchList> f76119F1;

    /* renamed from: G1 */
    Call<ShopDetails> f76120G1;

    /* renamed from: K1 */
    private PostOrder f76124K1;

    /* renamed from: L1 */
    private CreateOrderViewModel f76125L1;

    /* renamed from: M1 */
    private MenuResult f76127M1;

    /* renamed from: N0 */
    private AppSingleton f76128N0;

    /* renamed from: N1 */
    private boolean f76129N1;

    /* renamed from: O0 */
    private ImageView f76130O0;

    /* renamed from: P0 */
    private ImageView f76132P0;

    /* renamed from: Q0 */
    private ImageView f76134Q0;

    /* renamed from: R0 */
    private ImageView f76136R0;

    /* renamed from: S0 */
    private View f76137S0;

    /* renamed from: T0 */
    private View f76138T0;

    /* renamed from: U0 */
    private PullToRefreshView f76139U0;

    /* renamed from: V0 */
    private AppCompatTextView f76140V0;

    /* renamed from: W0 */
    private ServiceHeaderInfoView f76141W0;

    /* renamed from: X0 */
    private ConstraintLayout f76142X0;

    /* renamed from: Y0 */
    private ConstraintLayout f76143Y0;

    /* renamed from: Z0 */
    private CleverTapEvents f76144Z0;

    /* renamed from: a1 */
    private AppBarLayout f76145a1;

    /* renamed from: b1 */
    private CollapsingToolbarLayout f76146b1;

    /* renamed from: c1 */
    private FrameLayout f76147c1;

    /* renamed from: d1 */
    private Toolbar f76148d1;

    /* renamed from: g1 */
    public CTEventBean f76151g1;

    /* renamed from: j1 */
    private boolean f76154j1;

    /* renamed from: n1 */
    private ProgressBar f76158n1;

    /* renamed from: o1 */
    private DeeplinkBean f76159o1;

    /* renamed from: q1 */
    public OrderNowActionView f76161q1;

    /* renamed from: r1 */
    public EstimatedCostView f76162r1;

    /* renamed from: s1 */
    private TopBannerView f76163s1;

    /* renamed from: t1 */
    private StoreInfoItem.InterfaceC31838a f76164t1;

    /* renamed from: u1 */
    private TopBannerItem f76165u1;

    /* renamed from: v1 */
    private OrderNowActionItem.InterfaceC31837a f76166v1;

    /* renamed from: w1 */
    public OrderNowFloatingActionView f76167w1;

    /* renamed from: x1 */
    private OrderNowActionItem f76168x1;

    /* renamed from: z1 */
    private InterfaceC28035k0 f76170z1;

    /* renamed from: M0 */
    private final ErrorReporter f76126M0 = new SentryErrorReporter();

    /* renamed from: e1 */
    private String f76149e1 = "";

    /* renamed from: f1 */
    private boolean f76150f1 = false;

    /* renamed from: h1 */
    public int f76152h1 = -1;

    /* renamed from: i1 */
    private int f76153i1 = -1;

    /* renamed from: k1 */
    private boolean f76155k1 = false;

    /* renamed from: l1 */
    private final int f76156l1 = 102;

    /* renamed from: m1 */
    private final int f76157m1 = 103;

    /* renamed from: p1 */
    private final String f76160p1 = "getDeepLink";

    /* renamed from: y1 */
    private int f76169y1 = -1;

    /* renamed from: B1 */
    private boolean f76115B1 = true;

    /* renamed from: D1 */
    private boolean f76117D1 = false;

    /* renamed from: H1 */
    private final String f76121H1 = "placeNewOrder";

    /* renamed from: I1 */
    private String f76122I1 = "";

    /* renamed from: J1 */
    public OrderDetailFlow f76123J1 = OrderDetailFlow.NON_M4B_ORDER_FLOW;

    /* renamed from: O1 */
    private boolean f76131O1 = true;

    /* renamed from: P1 */
    private String f76133P1 = "";

    /* renamed from: Q1 */
    private String f76135Q1 = "";

    /* JADX INFO: Access modifiers changed from: package-private */
    /* renamed from: com.mrsool.service.ServiceDetailActivity$a */
    /* loaded from: classes3.dex */
    public class C23066a implements StoreInfoItem.InterfaceC31838a {
        C23066a() {
        }

        @Override // sl.StoreInfoItem.InterfaceC31838a
        /* renamed from: a */
        public void mo9031a() {
            ServiceDetailActivity.this.f76161q1.m6884o(Boolean.FALSE);
            ServiceDetailActivity.this.f76141W0.m41700D(false);
            ServiceDetailActivity.this.f76115B1 = true;
            ServiceDetailActivity.this.m41891s4();
            ServiceDetailActivity.this.m41954R4();
        }

        @Override // sl.StoreInfoItem.InterfaceC31838a
        /* renamed from: b */
        public void mo9030b() {
            if (ServiceDetailActivity.this.f100211u0.m23456e2()) {
                if (!ServiceDetailActivity.this.f76150f1 || !ServiceDetailActivity.this.f76170z1.mo23842P()) {
                    ServiceDetailActivity.this.m41932c5();
                } else {
                    ServiceDetailActivity.this.m41920h5();
                }
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* renamed from: com.mrsool.service.ServiceDetailActivity$b */
    /* loaded from: classes3.dex */
    public class C23067b implements OrderNowActionItem.InterfaceC31837a {
        C23067b() {
        }

        @Override // sl.OrderNowActionItem.InterfaceC31837a
        /* renamed from: a */
        public void mo9046a() {
            ServiceDetailActivity.this.f76170z1.mo23766R();
            ServiceDetailActivity.this.m41881x4();
        }

        @Override // sl.OrderNowActionItem.InterfaceC31837a
        /* renamed from: b */
        public void mo9045b(int i) {
            EstimatedCostView estimatedCostView = ServiceDetailActivity.this.f76162r1;
            if (estimatedCostView != null) {
                CoordinatorLayout.C0573f c0573f = (CoordinatorLayout.C0573f) estimatedCostView.m6920w().getLayoutParams();
                c0573f.setMargins(0, 0, 0, i);
                ServiceDetailActivity.this.f76162r1.m6920w().setLayoutParams(c0573f);
            }
            if (ServiceDetailActivity.this.f76170z1 != null) {
                ServiceDetailActivity.this.f76170z1.mo23797D(i);
            }
        }

        @Override // sl.OrderNowActionItem.InterfaceC31837a
        /* renamed from: c */
        public void mo9044c() {
            ServiceDetailActivity.this.f76150f1 = false;
            ServiceDetailActivity.this.m41936a5();
            ServiceDetailActivity.this.m41911k5();
        }

        @Override // sl.OrderNowActionItem.InterfaceC31837a
        /* renamed from: e */
        public void mo9043e() {
            ServiceDetailActivity.this.f76145a1.m52908t(false, true);
            ServiceDetailActivity.this.f76170z1.mo23820e();
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* renamed from: com.mrsool.service.ServiceDetailActivity$d */
    /* loaded from: classes3.dex */
    public class C23069d extends AppBarStateChangeListener {
        C23069d() {
        }

        @Override // p017an.AppBarStateChangeListener
        /* renamed from: b */
        public void mo20902b(int i) {
            ServiceDetailActivity.this.m41899o5(i);
            float abs = 1.0f - Math.abs(ServiceDetailActivity.this.f76145a1.getY() / ServiceDetailActivity.this.f76145a1.getTotalScrollRange());
            if (ServiceDetailActivity.this.f76137S0.getVisibility() == 0) {
                ServiceDetailActivity.this.f76137S0.animate().alpha(abs).setDuration(0L).translationY(ServiceDetailActivity.this.f76145a1.getY() / 2.0f);
            }
            if (ServiceDetailActivity.this.f76141W0.getVisibility() == 0) {
                ServiceDetailActivity.this.f76141W0.setAlpha(abs);
            }
        }

        @Override // p017an.AppBarStateChangeListener
        /* renamed from: c */
        public void mo20901c(AppBarLayout appBarLayout, AppBarState appBarState, int i) {
            ServiceDetailActivity.this.f76139U0.setAppBarState(appBarState);
            int i2 = C23074i.f76182a[appBarState.ordinal()];
            if (i2 != 1 && i2 != 2) {
                if (i2 == 3 && !ServiceDetailActivity.this.f100211u0.m23421j2()) {
                    StatusBarUtil.m23195b(ServiceDetailActivity.this);
                    return;
                }
                return;
            }
            StatusBarUtil.m23196a(ServiceDetailActivity.this);
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* renamed from: com.mrsool.service.ServiceDetailActivity$e */
    /* loaded from: classes3.dex */
    public class RunnableC23070e implements Runnable {
        RunnableC23070e() {
        }

        @Override // java.lang.Runnable
        public void run() {
            ServiceDetailActivity serviceDetailActivity = ServiceDetailActivity.this;
            serviceDetailActivity.f76170z1 = (InterfaceC28035k0) serviceDetailActivity.f76114A1;
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* renamed from: com.mrsool.service.ServiceDetailActivity$f */
    /* loaded from: classes3.dex */
    public class C23071f implements Callback<ShopDetails> {

        /* renamed from: a */
        final /* synthetic */ EnumC23075j f76176a;

        /* renamed from: b */
        final /* synthetic */ HashMap f76177b;

        C23071f(EnumC23075j enumC23075j, HashMap hashMap) {
            this.f76176a = enumC23075j;
            this.f76177b = hashMap;
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* renamed from: f */
        public /* synthetic */ void m41873f() {
            ServiceDetailActivity.this.finish();
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* renamed from: g */
        public /* synthetic */ void m41872g() throws JSONException {
            if (!ServiceDetailActivity.this.isFinishing()) {
                ServiceDetailActivity.this.mo23879K0();
                OnOkCallback onOkCallback = new OnOkCallback() { // from class: com.mrsool.service.c
                    @Override // p016ak.OnOkCallback
                    /* renamed from: a */
                    public final void mo454a() {
                        ServiceDetailActivity.C23071f.this.m41873f();
                    }
                };
                ServiceDetailActivity serviceDetailActivity = ServiceDetailActivity.this;
                serviceDetailActivity.m15660v2(serviceDetailActivity.getString(R.string.msg_error_server_issue), onOkCallback);
            }
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* renamed from: h */
        public /* synthetic */ void m41871h() {
            ServiceDetailActivity.this.finish();
        }

        @Override // p819dy.Callback
        /* renamed from: a */
        public void mo406a(Call<ShopDetails> call, Throwable th2) {
            ServiceDetailActivity.this.m41928e5();
            if (call.isCanceled()) {
                return;
            }
            C28092f3.m23460d5(new TryCatchListener() { // from class: com.mrsool.service.b
                @Override // mm.TryCatchListener
                public final void execute() {
                    ServiceDetailActivity.C23071f.this.m41872g();
                }
            });
        }

        /* JADX WARN: Removed duplicated region for block: B:34:0x00bc A[Catch: Exception -> 0x0407, TryCatch #0 {Exception -> 0x0407, blocks: (B:6:0x0010, B:8:0x0016, B:10:0x0024, B:12:0x003e, B:14:0x004a, B:16:0x0050, B:18:0x0056, B:20:0x005a, B:21:0x0068, B:23:0x008f, B:25:0x0093, B:27:0x009f, B:32:0x00b3, B:34:0x00bc, B:36:0x00f4, B:38:0x0102, B:40:0x0118, B:44:0x0137, B:49:0x0140, B:51:0x0155, B:52:0x0174, B:54:0x0180, B:69:0x01b9, B:71:0x01c1, B:72:0x0219, B:73:0x028a, B:59:0x019f, B:62:0x01a9, B:74:0x030b, B:76:0x0346, B:77:0x0350, B:79:0x0362, B:80:0x0370, B:82:0x037d, B:83:0x0387, B:85:0x0396, B:88:0x03a5, B:89:0x03b5, B:91:0x03de), top: B:99:0x0010 }] */
        /* JADX WARN: Removed duplicated region for block: B:36:0x00f4 A[Catch: Exception -> 0x0407, TryCatch #0 {Exception -> 0x0407, blocks: (B:6:0x0010, B:8:0x0016, B:10:0x0024, B:12:0x003e, B:14:0x004a, B:16:0x0050, B:18:0x0056, B:20:0x005a, B:21:0x0068, B:23:0x008f, B:25:0x0093, B:27:0x009f, B:32:0x00b3, B:34:0x00bc, B:36:0x00f4, B:38:0x0102, B:40:0x0118, B:44:0x0137, B:49:0x0140, B:51:0x0155, B:52:0x0174, B:54:0x0180, B:69:0x01b9, B:71:0x01c1, B:72:0x0219, B:73:0x028a, B:59:0x019f, B:62:0x01a9, B:74:0x030b, B:76:0x0346, B:77:0x0350, B:79:0x0362, B:80:0x0370, B:82:0x037d, B:83:0x0387, B:85:0x0396, B:88:0x03a5, B:89:0x03b5, B:91:0x03de), top: B:99:0x0010 }] */
        /* JADX WARN: Removed duplicated region for block: B:67:0x01b5  */
        /* JADX WARN: Removed duplicated region for block: B:73:0x028a A[Catch: Exception -> 0x0407, TryCatch #0 {Exception -> 0x0407, blocks: (B:6:0x0010, B:8:0x0016, B:10:0x0024, B:12:0x003e, B:14:0x004a, B:16:0x0050, B:18:0x0056, B:20:0x005a, B:21:0x0068, B:23:0x008f, B:25:0x0093, B:27:0x009f, B:32:0x00b3, B:34:0x00bc, B:36:0x00f4, B:38:0x0102, B:40:0x0118, B:44:0x0137, B:49:0x0140, B:51:0x0155, B:52:0x0174, B:54:0x0180, B:69:0x01b9, B:71:0x01c1, B:72:0x0219, B:73:0x028a, B:59:0x019f, B:62:0x01a9, B:74:0x030b, B:76:0x0346, B:77:0x0350, B:79:0x0362, B:80:0x0370, B:82:0x037d, B:83:0x0387, B:85:0x0396, B:88:0x03a5, B:89:0x03b5, B:91:0x03de), top: B:99:0x0010 }] */
        @Override // p819dy.Callback
        /* renamed from: b */
        /*
            Code decompiled incorrectly, please refer to instructions dump.
            To view partially-correct code enable 'Show inconsistent code' option in preferences
        */
        public void mo405b(p819dy.Call<com.mrsool.bean.ShopDetails> r11, p819dy.C23969a0<com.mrsool.bean.ShopDetails> r12) {
            /*
                Method dump skipped, instructions count: 1047
                To view this dump change 'Code comments level' option to 'DEBUG'
            */
            throw new UnsupportedOperationException("Method not decompiled: com.mrsool.service.ServiceDetailActivity.C23071f.mo405b(dy.b, dy.a0):void");
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* renamed from: com.mrsool.service.ServiceDetailActivity$g */
    /* loaded from: classes3.dex */
    public class C23072g implements Callback<DeeplinkBean> {
        C23072g() {
        }

        @Override // p819dy.Callback
        /* renamed from: a */
        public void mo406a(Call<DeeplinkBean> call, Throwable th2) {
            C28092f3 c28092f3 = ServiceDetailActivity.this.f100211u0;
            if (c28092f3 == null) {
                return;
            }
            c28092f3.m23614E4();
        }

        @Override // p819dy.Callback
        /* renamed from: b */
        public void mo405b(Call<DeeplinkBean> call, C23969a0<DeeplinkBean> c23969a0) {
            C28092f3 c28092f3 = ServiceDetailActivity.this.f100211u0;
            if (c28092f3 == null) {
                return;
            }
            c28092f3.m23545Q1();
            if (c23969a0.m37799e()) {
                if (c23969a0.m37803a().getCode().intValue() <= 300) {
                    ServiceDetailActivity.this.f76159o1 = c23969a0.m37803a();
                    String m23401m1 = ServiceDetailActivity.this.f100211u0.m23401m1(c23969a0.m37803a());
                    if (!TextUtils.isEmpty(m23401m1)) {
                        ServiceDetailActivity.this.f100211u0.m23340w1(new ServiceManualDataBean("getDeepLink", m23401m1));
                        return;
                    }
                    ServiceDetailActivity.this.mo541l0("getDeepLink");
                    return;
                }
                ServiceDetailActivity.this.m15659w2(c23969a0.m37803a().getMessage(), ServiceDetailActivity.this.getString(R.string.app_name));
                return;
            }
            ServiceDetailActivity serviceDetailActivity = ServiceDetailActivity.this;
            C28092f3 c28092f32 = serviceDetailActivity.f100211u0;
            if (c28092f32 != null) {
                serviceDetailActivity.m15659w2(c28092f32.m23582K0(c23969a0.m37798f()), ServiceDetailActivity.this.getString(R.string.app_name));
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* renamed from: com.mrsool.service.ServiceDetailActivity$h */
    /* loaded from: classes3.dex */
    public class C23073h implements Callback<GetBranchList> {

        /* renamed from: a */
        final /* synthetic */ String f76180a;

        C23073h(String str) {
            this.f76180a = str;
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* renamed from: d */
        public /* synthetic */ void m41869d() {
            ServiceDetailActivity.this.f76129N1 = false;
            ServiceDetailActivity.this.f76127M1 = null;
            ServiceDetailActivity.this.m41893r4(EnumC23075j.INIT);
        }

        @Override // p819dy.Callback
        /* renamed from: a */
        public void mo406a(Call<GetBranchList> call, Throwable th2) {
            if (ServiceDetailActivity.this.f100211u0 != null && !call.isCanceled()) {
                ServiceDetailActivity.this.m41914j5();
                ServiceDetailActivity.this.m41954R4();
                ServiceDetailActivity.this.m41900o4();
            }
        }

        @Override // p819dy.Callback
        /* renamed from: b */
        public void mo405b(Call<GetBranchList> call, C23969a0<GetBranchList> c23969a0) {
            if (ServiceDetailActivity.this.f100211u0 == null) {
                return;
            }
            if (c23969a0.m37799e() && c23969a0.m37803a().getCode() <= 300) {
                if (ServiceDetailActivity.this.f76128N0.f76710v0 != null) {
                    if (ServiceDetailActivity.this.f76128N0.f76710v0.getShop() != null) {
                        ServiceDetailActivity.this.f76128N0.f76710v0.getShop().setBranchLocations(c23969a0.m37803a().getBranchList());
                    }
                    ServiceDetailActivity.this.f76128N0.f76710v0.setBarColor(c23969a0.m37803a().getBarColor());
                    ServiceDetailActivity.this.f76128N0.f76710v0.setAllowOrder(Boolean.valueOf(c23969a0.m37803a().isAllowOrder()));
                    ServiceDetailActivity.this.f76128N0.f76710v0.setShop_order_alert_text(c23969a0.m37803a().getShopOrderAlertText());
                    ServiceDetailActivity.this.f76128N0.f76710v0.getOrderNowLabelDetail().setNoCourierBarColor(c23969a0.m37803a().getNoCourierBarColor());
                }
                ServiceDetailActivity.this.m41926f5();
                ServiceDetailActivity.this.m41938Z4();
            } else if (c23969a0.m37803a() != null) {
                ServiceDetailActivity.this.m15659w2(c23969a0.m37803a().getMessage(), ServiceDetailActivity.this.getString(R.string.app_name));
            }
            if (ServiceDetailActivity.this.f76129N1 && !ServiceDetailActivity.this.f76133P1.equals(ServiceDetailActivity.this.f76127M1.m46293e()) && !this.f76180a.equals("")) {
                ServiceDetailActivity.this.m15660v2(c23969a0.m37803a().getMessage(), new OnOkCallback() { // from class: com.mrsool.service.d
                    @Override // p016ak.OnOkCallback
                    /* renamed from: a */
                    public final void mo454a() {
                        ServiceDetailActivity.C23073h.this.m41869d();
                    }
                });
                return;
            }
            ServiceDetailActivity.this.mo23878M0();
            ServiceDetailActivity.this.m41914j5();
            ServiceDetailActivity.this.m41954R4();
            ServiceDetailActivity.this.m41900o4();
        }
    }

    /* renamed from: com.mrsool.service.ServiceDetailActivity$i */
    /* loaded from: classes3.dex */
    static /* synthetic */ class C23074i {

        /* renamed from: a */
        static final /* synthetic */ int[] f76182a;

        static {
            int[] iArr = new int[AppBarState.values().length];
            f76182a = iArr;
            try {
                iArr[AppBarState.EXPANDED.ordinal()] = 1;
            } catch (NoSuchFieldError unused) {
            }
            try {
                f76182a[AppBarState.IDLE.ordinal()] = 2;
            } catch (NoSuchFieldError unused2) {
            }
            try {
                f76182a[AppBarState.COLLAPSED.ordinal()] = 3;
            } catch (NoSuchFieldError unused3) {
            }
        }
    }

    /* renamed from: com.mrsool.service.ServiceDetailActivity$j */
    /* loaded from: classes3.dex */
    public enum EnumC23075j {
        PULL_TO_REFRESH,
        INIT,
        BRANCH_CHANGE
    }

    /* renamed from: A4 */
    private void m41988A4() {
        int i = Constant.f94020m / 2;
        FeatureFlags.C27008c c27008c = C27010b.f90546N;
        if (c27008c.m27318c() == 3) {
            i = (Constant.f94020m * 2) / 3;
        } else if (c27008c.m27318c() == 2) {
            i = Constant.f94020m / 2;
        }
        CoordinatorLayout.C0573f c0573f = (CoordinatorLayout.C0573f) this.f76137S0.getLayoutParams();
        c0573f.setMargins(0, i - this.f100211u0.m23472c0(16.0f), 0, 0);
        this.f76137S0.setLayoutParams(c0573f);
        ConstraintLayout.C0551b c0551b = (ConstraintLayout.C0551b) this.f76142X0.getLayoutParams();
        ((ViewGroup.MarginLayoutParams) c0551b).height = i;
        this.f76142X0.setLayoutParams(c0551b);
        ((ViewGroup.MarginLayoutParams) this.f76143Y0.getLayoutParams()).topMargin = (i - this.f100211u0.m23472c0(64.0f)) / 2;
        this.f76146b1.setScrimVisibleHeightTrigger(i);
        this.f76163s1 = new TopBannerView(m15680b2(R.id.llAboveDetail));
        this.f76161q1 = new OrderNowActionView(m15680b2(R.id.iOrderNow));
        this.f76162r1 = new EstimatedCostView(m15680b2(R.id.iEstimateCost));
        this.f76167w1 = new OrderNowFloatingActionView(m15680b2(R.id.clOrderNow));
        this.f76168x1 = new OrderNowActionItem(this.f76166v1);
        this.f76165u1 = new TopBannerItem(this.f76128N0.f76710v0.getShop());
    }

    /* renamed from: B4 */
    private void m41986B4() {
        CreateOrderViewModel createOrderViewModel = (CreateOrderViewModel) new ViewModelProvider(this, new C32872u(this.f100211u0)).get(CreateOrderViewModel.class);
        this.f76125L1 = createOrderViewModel;
        createOrderViewModel.m5196i().observe(this, new Observer() { // from class: ml.b0
            @Override // androidx.lifecycle.Observer
            public final void onChanged(Object obj) {
                ServiceDetailActivity.this.m41976G4((AbstractC32207g) obj);
            }
        });
        this.f76125L1.m5194k().observe(this, new Observer() { // from class: ml.c0
            @Override // androidx.lifecycle.Observer
            public final void onChanged(Object obj) {
                ServiceDetailActivity.this.m41974H4((AbstractC32207g) obj);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: C4 */
    public boolean m41984C4() {
        return this.f76114A1 instanceof ServiceDetailsFragment;
    }

    /* renamed from: D4 */
    private boolean m41982D4() {
        if ((this.f76128N0.f76710v0.getShop().isPickupFixed().intValue() == 1 || this.f76128N0.f76710v0.getShop().isDropoffFixed().intValue() == 1) && this.f76128N0.f76710v0.getShop().getHasMultipleBranches().booleanValue()) {
            return true;
        }
        return false;
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: E4 */
    public /* synthetic */ Unit m41980E4(MenuLoad menuLoad, MenuLoadingRequest menuLoadingRequest) {
        InterfaceC28035k0 interfaceC28035k0;
        InterfaceC28035k0 interfaceC28035k02;
        if (isFinishing()) {
            return null;
        }
        if ((menuLoadingRequest instanceof MenuLoadingRequest.C32192d) && (interfaceC28035k02 = this.f76170z1) != null) {
            interfaceC28035k02.mo23805u();
        } else if ((menuLoadingRequest instanceof MenuLoadingRequest.C32189a) && (interfaceC28035k0 = this.f76170z1) != null) {
            interfaceC28035k0.mo23845O();
        } else if ((menuLoadingRequest instanceof MenuLoadingRequest.C32190b) && this.f76170z1 != null) {
            mo23878M0();
            this.f76170z1.mo23813m();
            this.f76170z1.mo23826X(false);
        } else if (menuLoadingRequest instanceof MenuLoadingRequest.C32193e) {
            this.f76141W0.m41700D(false);
            boolean m7879a = ((MenuLoadingRequest.C32193e) menuLoadingRequest).m7879a();
            this.f76150f1 = m7879a;
            if (m7879a && menuLoad != MenuLoad.NORMAL) {
                if (menuLoad == MenuLoad.BRANCH_CHANGE) {
                    if (!(this.f76114A1 instanceof ServiceDetailsFragment)) {
                        this.f76115B1 = false;
                        m41936a5();
                        m41911k5();
                    }
                } else if (menuLoad == MenuLoad.REFRESH_MENU || menuLoad == MenuLoad.PULL_TO_REFRESH) {
                    InterfaceC28035k0 interfaceC28035k03 = this.f76170z1;
                    if (interfaceC28035k03 != null) {
                        interfaceC28035k03.mo23853I();
                    }
                    this.f76161q1.m6884o(Boolean.valueOf(m41984C4()));
                    m41893r4(EnumC23075j.PULL_TO_REFRESH);
                }
            } else {
                this.f76115B1 = false;
                m41936a5();
                m41911k5();
                mo23878M0();
                if (this.f76150f1) {
                    this.f76161q1.m6884o(Boolean.valueOf(m41984C4()));
                }
            }
        } else if (menuLoadingRequest instanceof MenuLoadingRequest.C32191c) {
            this.f76141W0.m41700D(true);
            this.f76150f1 = false;
            InterfaceC28035k0 interfaceC28035k04 = this.f76170z1;
            if (interfaceC28035k04 != null) {
                interfaceC28035k04.mo23845O();
            }
            m41905m5(false);
            if (menuLoad == MenuLoad.NORMAL) {
                this.f76115B1 = false;
                m41936a5();
                m41911k5();
            } else if (menuLoad == MenuLoad.PULL_TO_REFRESH) {
                m41879y4();
            }
            InterfaceC28035k0 interfaceC28035k05 = this.f76170z1;
            if (interfaceC28035k05 != null) {
                interfaceC28035k05.mo23813m();
            }
        }
        return null;
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: F4 */
    public /* synthetic */ WindowInsetsCompat m41978F4(View view, WindowInsetsCompat windowInsetsCompat) {
        ((ViewGroup.MarginLayoutParams) this.f76148d1.getLayoutParams()).topMargin = windowInsetsCompat.m95397k();
        return windowInsetsCompat.m95405c();
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: G4 */
    public /* synthetic */ void m41976G4(AbstractC32207g abstractC32207g) {
        if (abstractC32207g instanceof AbstractC32207g.C32209b) {
            if (((AbstractC32207g.C32209b) abstractC32207g).m7817a()) {
                this.f76141W0.m41701C();
            }
        } else if (abstractC32207g instanceof AbstractC32207g.C32210c) {
            if (isFinishing()) {
                return;
            }
            this.f76141W0.m41698F((EstimatedCostDetail) ((AbstractC32207g.C32210c) abstractC32207g).m7816a());
        } else if (!(abstractC32207g instanceof AbstractC32207g.C32208a) || isFinishing()) {
        } else {
            AbstractC32207g.C32208a c32208a = (AbstractC32207g.C32208a) abstractC32207g;
            String string = getString(R.string.msg_error_server_issue);
            if (c32208a.m7818a() != null) {
                string = (String) c32208a.m7818a();
            }
            this.f76141W0.m41698F(null);
            this.f100211u0.m23620D4(string);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: H4 */
    public /* synthetic */ void m41974H4(AbstractC32207g abstractC32207g) {
        if (abstractC32207g instanceof AbstractC32207g.C32209b) {
            if (((AbstractC32207g.C32209b) abstractC32207g).m7817a()) {
                this.f100211u0.m23572L4(getString(R.string.app_name), getString(R.string.lbl_dg_loader_loading));
            } else {
                this.f100211u0.m23545Q1();
            }
        } else if (abstractC32207g instanceof AbstractC32207g.C32210c) {
            AbstractC32207g.C32210c c32210c = (AbstractC32207g.C32210c) abstractC32207g;
            PostOrder postOrder = (PostOrder) c32210c.m7816a();
            this.f76124K1 = postOrder;
            this.f76122I1 = postOrder.getiOrderId();
            this.f76123J1 = OrderDetailFlow.NON_M4B_ORDER_FLOW;
            Constant.f93969b3 = false;
            m41944W4(Constant.f94083y2.equals(this.f76124K1.getOrderFlowType()), this.f76124K1.getAnalyticsData());
            String m23401m1 = this.f100211u0.m23401m1(c32210c.m7816a());
            if (!TextUtils.isEmpty(m23401m1)) {
                this.f100211u0.m23340w1(new ServiceManualDataBean("placeNewOrder", m23401m1));
                return;
            }
            mo541l0("placeNewOrder");
        } else if (abstractC32207g instanceof AbstractC32207g.C32208a) {
            AbstractC32207g.C32208a c32208a = (AbstractC32207g.C32208a) abstractC32207g;
            String string = getString(R.string.msg_error_server_issue);
            if (c32208a.m7818a() != null) {
                string = (String) c32208a.m7818a();
            }
            this.f100211u0.m23620D4(string);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: I4 */
    public /* synthetic */ void m41972I4() throws JSONException {
        String str;
        if (AppSingleton.f76696J0.m23054j() != null) {
            str = AppSingleton.f76696J0.m23054j().getPartner();
        } else {
            str = null;
        }
        AmplitudeEvents.m20747H0().m20707c0(this.f76128N0.f76710v0.getShop().getVShopId(), this.f76128N0.f76710v0.getShop().getVName(), this.f76128N0.f76710v0.getShop().getVEnName(), C28092f3.m23629C1(this.f76128N0.f76710v0.getShop()), this.f76128N0.f76710v0.getShop().getVType(), "", this.f76128N0.f76710v0.getShop().getVType(), this.f76128N0.f76710v0.getShop().getDistanceCourierShop().doubleValue(), this.f76128N0.f76710v0.getShop().getHasDiscount().booleanValue(), C28092f3.m23364s1(this.f76128N0.f76710v0.getShop().getDiscountShortLabel()), AppSingleton.f76696J0.m23062b(), str, this.f76128N0.f76710v0.getAnalyticsData());
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: J4 */
    public /* synthetic */ void m41970J4() throws JSONException {
        this.f76116C1.m20825G(this.f76128N0.f76710v0.getShop().getVShopId(), this.f76128N0.f76710v0.getShop().getVEnName());
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: K4 */
    public /* synthetic */ void m41968K4() throws JSONException {
        double d;
        Shop shop = this.f76128N0.f76710v0.getShop();
        AmplitudeEvents m20747H0 = AmplitudeEvents.m20747H0();
        String vShopId = shop.getVShopId();
        String vName = shop.getVName();
        String vEnName = shop.getVEnName();
        String m23629C1 = C28092f3.m23629C1(shop);
        String categories = shop.getCategories();
        String vType = shop.getVType();
        int i = this.f76153i1 + 1;
        if (shop.getDistance() != null) {
            d = shop.getDistance().doubleValue();
        } else {
            d = 0.0d;
        }
        m20747H0.m20750G(vShopId, vName, vEnName, m23629C1, categories, "", vType, i, d, shop.getHasDiscount().booleanValue(), C28092f3.m23364s1(shop.getDiscountLabel()));
        this.f76154j1 = true;
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: L4 */
    public /* synthetic */ void m41966L4(HashMap hashMap) throws JSONException {
        ShopDetails shopDetails = this.f76128N0.f76710v0;
        if (shopDetails == null || shopDetails.getShop() == null) {
            this.f76126M0.logCaughtError("shop detail error, empty response:  details,", Arrays.asList(new Pair("shop_id", (String) hashMap.get("vShopId")), new Pair("user_id", this.f100211u0.m23593I1())));
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: M4 */
    public /* synthetic */ void m41964M4() throws JSONException {
        if (this.f76117D1 && this.f76114A1 == null) {
            Fragment m94685j0 = getSupportFragmentManager().m94685j0(R.id.fragmentContainer);
            this.f76114A1 = m94685j0;
            this.f76170z1 = (InterfaceC28035k0) m94685j0;
        }
        if (this.f76114A1 != null) {
            m41891s4();
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: N4 */
    public /* synthetic */ void m41962N4() throws JSONException {
        super.onDestroy();
        Call<GetBranchList> call = this.f76119F1;
        if (call != null && call.isExecuted()) {
            this.f76119F1.cancel();
        }
        Call<ShopDetails> call2 = this.f76120G1;
        if (call2 != null && call2.isExecuted()) {
            this.f76120G1.cancel();
        }
        Constant.f93976d0 = false;
        Constant.C28169a.f94090a.clear();
        Constant.C28169a.f94091b.clear();
        AppSingleton.f76696J0.m23065A(null);
        m41928e5();
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: O4 */
    public /* synthetic */ void m41960O4() throws JSONException {
        Constant.f93976d0 = true;
        C28092f3 c28092f3 = this.f100211u0;
        if (c28092f3 != null && c28092f3.m23559O() && !XmppUtil.INSTANCE.m2173q()) {
            this.f100211u0.m23535S();
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: P4 */
    public /* synthetic */ void m41958P4(Dialog dialog) {
        m41932c5();
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: Q4 */
    public void m41956Q4() {
        String str;
        if (m41982D4()) {
            this.f76115B1 = true;
            if (this.f76129N1 && !this.f76133P1.equals(this.f76127M1.m46293e())) {
                str = this.f76127M1.m46293e();
            } else {
                str = "";
            }
            m41906m4(str);
        } else if (this.f76128N0.f76710v0.getShop().isDigitalService().booleanValue()) {
            this.f76141W0.m41695x(this.f76128N0.f76710v0);
            m41954R4();
            m41938Z4();
        } else {
            this.f76115B1 = false;
            this.f76141W0.m41695x(this.f76128N0.f76710v0);
            m41936a5();
            m41911k5();
            m41938Z4();
            InterfaceC28035k0 interfaceC28035k0 = this.f76170z1;
            if (interfaceC28035k0 != null) {
                interfaceC28035k0.mo23813m();
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: R4 */
    public void m41954R4() {
        if (this.f76128N0.f76710v0.getShop().isBomsLinked().booleanValue()) {
            m41903n4(m41887u4(), MenuLoad.NORMAL);
            return;
        }
        this.f76115B1 = false;
        m41936a5();
        m41911k5();
        InterfaceC28035k0 interfaceC28035k0 = this.f76170z1;
        if (interfaceC28035k0 != null) {
            interfaceC28035k0.mo23813m();
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: S4 */
    public void m41952S4() {
        C28092f3.m23460d5(new TryCatchListener() { // from class: ml.v
            @Override // mm.TryCatchListener
            public final void execute() {
                ServiceDetailActivity.this.m41972I4();
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: T4 */
    public void m41950T4() {
        C28092f3.m23460d5(new TryCatchListener() { // from class: ml.d0
            @Override // mm.TryCatchListener
            public final void execute() {
                ServiceDetailActivity.this.m41970J4();
            }
        });
    }

    /* renamed from: U4 */
    private void m41948U4(String str) {
        AmplitudeEvents.m20747H0().m20681o0(str, this.f76128N0.f76710v0.getShop().getHasDiscount().booleanValue(), C28092f3.m23364s1(this.f76128N0.f76710v0.getShop().getDiscountShortLabel()), this.f76128N0.f76710v0.getShop().getVShopId(), this.f76128N0.f76710v0.getAnalyticsData());
    }

    /* renamed from: V4 */
    private void m41946V4(boolean z) {
        String str;
        boolean z2;
        String vAddress;
        OrderDetailsFragment orderDetailsFragment = (OrderDetailsFragment) this.f76114A1;
        if (AppSingleton.f76696J0.m23054j() != null) {
            str = AppSingleton.f76696J0.m23054j().getPartner();
        } else {
            str = null;
        }
        String str2 = str;
        AmplitudeEvents m20747H0 = AmplitudeEvents.m20747H0();
        String str3 = orderDetailsFragment.m23744c2(false) + orderDetailsFragment.f93581z0.getText().toString();
        boolean z3 = true;
        if (OrderDetailsFragment.f93522G1.size() > 0) {
            z2 = true;
        } else {
            z2 = false;
        }
        if (orderDetailsFragment.f93554Z0 == -1) {
            z3 = false;
        }
        String m20660h = AmplitudeEvents.EnumC28640d.Cash.m20660h();
        String m20661h = orderDetailsFragment.f93571q1.m20661h();
        boolean booleanValue = this.f76128N0.f76710v0.getShop().getHasDiscount().booleanValue();
        double m23364s1 = C28092f3.m23364s1(this.f76128N0.f76710v0.getShop().getDiscountShortLabel());
        if (orderDetailsFragment.f93566l1) {
            vAddress = orderDetailsFragment.f93524A1.m5288h();
        } else {
            vAddress = this.f76128N0.f76710v0.getShop().getVAddress();
        }
        m20747H0.m20682n0(str3, z2, z3, m20660h, m20661h, booleanValue, m23364s1, vAddress, orderDetailsFragment.f93524A1.m5294b(), 0, 0.0d, this.f76128N0.f76710v0.getShop().getVShopId(), this.f76124K1.getBuyerOfferDesignOption(), OrderFlowHelper.m2467d(z), str2, this.f76128N0.f76710v0.getAnalyticsData());
    }

    /* renamed from: W4 */
    private void m41944W4(boolean z, CTAnalyticsData cTAnalyticsData) {
        m41946V4(z);
        m41930d5();
        new CleverTapEvents(this).m20778q(this.f76124K1.getLastOrderShop(), cTAnalyticsData);
        AdjustLogger.m20843g(this).m20842h(this.f76128N0.f76710v0.getShop().getVShopId(), this.f76128N0.f76710v0.getShop().getVEnName(), 1);
        if (Constant.f93935T2.getUser().firstOrderAsBuyer() && !this.f100211u0.m23334x1().m23223i().getBoolean(Constant.f93888J, false)) {
            this.f100211u0.m23334x1().m23213s(Constant.f93888J, Boolean.TRUE);
            AdjustLogger.m20843g(this).m20844f(this.f76128N0.f76710v0.getShop().getVShopId(), this.f76128N0.f76710v0.getShop().getVEnName(), 1);
        }
        this.f76116C1.m20822J(this.f76128N0.f76710v0.getShop().getVShopId(), this.f76128N0.f76710v0.getShop().getVEnName(), 1);
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: X4 */
    public void m41942X4() {
        if (this.f76152h1 != -1 && !this.f76154j1 && this.f76128N0.f76710v0 != null) {
            C28092f3.m23460d5(new TryCatchListener() { // from class: ml.f0
                @Override // mm.TryCatchListener
                public final void execute() {
                    ServiceDetailActivity.this.m41968K4();
                }
            });
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: Y4 */
    public void m41940Y4(final HashMap<String, String> hashMap) {
        C28092f3.m23460d5(new TryCatchListener() { // from class: ml.w
            @Override // mm.TryCatchListener
            public final void execute() {
                ServiceDetailActivity.this.m41966L4(hashMap);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: Z4 */
    public void m41938Z4() {
        if (this.f76128N0.f76710v0 != null && getIntent().hasExtra("extras_navigation_source")) {
            AmplitudeEvents.m20747H0().m20753E0(this.f76128N0.f76710v0.getShop(), (AmplitudeEvents.EnumC28637a) getIntent().getSerializableExtra("extras_navigation_source"));
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: c5 */
    public void m41932c5() {
        Intent intent = new Intent(this, BranchesActivity.class);
        intent.putExtra(Constant.f93879H0, getString(R.string.lbl_tab_shop_pkg_info));
        intent.putExtra(Constant.f94051s0, this.f76169y1);
        startActivityForResult(intent, 102);
    }

    /* renamed from: d5 */
    private void m41930d5() {
        String m44224X;
        String m44248I;
        OrderDetailsFragment orderDetailsFragment = (OrderDetailsFragment) this.f76114A1;
        if (orderDetailsFragment.f93526B1.m44224X().equals("")) {
            m44224X = orderDetailsFragment.f93526B1.m44214d0().getText().toString().trim();
        } else {
            m44224X = orderDetailsFragment.f93526B1.m44224X();
        }
        if (orderDetailsFragment.f93526B1.m44248I().equals("")) {
            m44248I = orderDetailsFragment.f93526B1.m44216c0().getText().toString().trim();
        } else {
            m44248I = orderDetailsFragment.f93526B1.m44248I();
        }
        AmplitudeEvents.m20747H0().m20684m0(!m44224X.equals(orderDetailsFragment.f93526B1.m44214d0().getText().toString().trim()), orderDetailsFragment.f93526B1.m44223Y(), !m44248I.equals(orderDetailsFragment.f93526B1.m44216c0().getText().toString().trim()), orderDetailsFragment.f93526B1.m44246J(), this.f76128N0.f76710v0.getShop().getVShopId(), this.f76128N0.f76710v0.getAnalyticsData());
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: e5 */
    public void m41928e5() {
        if (AppSingleton.f76696J0.m23046r()) {
            AppSingleton.f76696J0.m23038z(false);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: f5 */
    public void m41926f5() {
        int i;
        if (this.f76128N0.f76710v0.getShop().getBranchLocations() != null) {
            i = this.f76128N0.f76710v0.getShop().getBranchLocations().size();
        } else {
            i = 0;
        }
        for (int i2 = 0; i2 < i; i2++) {
            if (this.f76128N0.f76710v0.getShop().getBranchLocations().get(i2).isSelected() == 1) {
                Constant.C28169a.f94098i = this.f76128N0.f76710v0.getShop().getBranchLocations().get(i2).getBranchId();
                this.f76133P1 = this.f76128N0.f76710v0.getShop().getBranchLocations().get(i2).getM4bBranchId();
                this.f76169y1 = i2;
                return;
            }
        }
        Constant.C28169a.m23159a();
        this.f76169y1 = -1;
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: g5 */
    public void m41923g5(C23969a0<ShopDetails> c23969a0) {
        if (c23969a0.m37799e()) {
            this.f76128N0.f76709u0.setShopId(c23969a0.m37803a().getShop().getVShopId());
            this.f76128N0.f76709u0.setShopName(c23969a0.m37803a().getShop().getVName());
            this.f76128N0.f76709u0.setLatitude(String.valueOf(c23969a0.m37803a().getShop().getLatitude()));
            this.f76128N0.f76709u0.setLongitude(String.valueOf(c23969a0.m37803a().getShop().getLongitude()));
            this.f76128N0.f76709u0.setDistance(String.valueOf(c23969a0.m37803a().getShop().getDistanceCourierShop()));
            this.f76128N0.f76709u0.setRatings(null);
            this.f76128N0.f76709u0.setFormattedAddress(String.valueOf(c23969a0.m37803a().getShop().getVAddress()));
            this.f76128N0.f76709u0.setShopPic(String.valueOf(c23969a0.m37803a().getShop().getVShopPic()));
            this.f76128N0.f76709u0.setAnalyticsData(c23969a0.m37803a().getAnalyticsData());
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: h5 */
    public void m41920h5() {
        DialogUtils.m98392b(this).m98387g(new InterfaceC0217y() { // from class: ml.e0
            @Override // p016ak.InterfaceC0217y
            /* renamed from: a */
            public final void mo4182a(Dialog dialog) {
                ServiceDetailActivity.this.m41958P4(dialog);
            }

            @Override // p016ak.InterfaceC0217y
            /* renamed from: b */
            public /* synthetic */ void mo4181b(Dialog dialog) {
                OnYesNoCallback.m98366a(this, dialog);
            }
        });
    }

    /* renamed from: i5 */
    private void m41917i5() {
        this.f100211u0.m23596H4(4, this.f76147c1);
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: j5 */
    public void m41914j5() {
        if (this.f76169y1 != -1) {
            BranchBean branchBean = this.f76128N0.f76710v0.getShop().getBranchLocations().get(this.f76169y1);
            if (this.f76128N0.f76710v0.getShop().isPickupFixed().intValue() == 1) {
                this.f76128N0.f76710v0.getShop().setPlatitude(branchBean.getLatitude());
                this.f76128N0.f76710v0.getShop().setPlongitude(branchBean.getLongitude());
                this.f76128N0.f76710v0.getShop().setVPickupAddress(branchBean.getvAddress());
            }
            if (this.f76128N0.f76710v0.getShop().isDropoffFixed().intValue() == 1) {
                this.f76128N0.f76710v0.getShop().setDlatitude(branchBean.getLatitude());
                this.f76128N0.f76710v0.getShop().setDlongitude(branchBean.getLongitude());
                this.f76128N0.f76710v0.getShop().setVDropoffAddress(branchBean.getvAddress());
            }
        }
        this.f76141W0.m41695x(this.f76128N0.f76710v0);
        m41911k5();
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: k5 */
    public void m41911k5() {
        if (this.f76141W0.getVisibility() != 0) {
            this.f76141W0.setVisibility(0);
        }
        this.f76141W0.m41693z(m41883w4());
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: l4 */
    public void m41909l4() {
        this.f100211u0.m23590I4(true, this.f76141W0);
        m41891s4();
        this.f76161q1.m6878u();
        EstimatedCostView estimatedCostView = this.f76162r1;
        if (estimatedCostView != null && (this.f76114A1 instanceof OrderDetailsFragment)) {
            estimatedCostView.m6955F(0);
        }
        this.f100211u0.m23551P1();
        if (this.f100211u0.m23622D2().booleanValue() || !m41982D4()) {
            mo23879K0();
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: l5 */
    public void m41908l5() {
        this.f76143Y0.setVisibility(0);
        this.f76168x1.m9047q(this.f76128N0.f76710v0);
        this.f76165u1.m9027c(this.f76128N0.f76710v0.getShop());
        this.f76163s1.m7007d(this.f76165u1);
        this.f76140V0.setText(this.f76128N0.f76710v0.getShop().getVTitle());
        m41902n5();
    }

    /* renamed from: m4 */
    private void m41906m4(String str) {
        C28092f3 c28092f3 = this.f100211u0;
        if (c28092f3 != null && c28092f3.m23363s2()) {
            HashMap hashMap = new HashMap();
            hashMap.put("vShopId", this.f76128N0.f76710v0.getShop().getVShopId());
            hashMap.put("language", "" + this.f100211u0.m23624D0());
            hashMap.put("location_type", this.f76128N0.f76710v0.getShop().getNearestLocationType());
            MenuResult menuResult = this.f76127M1;
            if (menuResult != null && menuResult.m46307A() != 0.0d && this.f76127M1.m46306B() != 0.0d) {
                hashMap.put("current_latitude", "" + this.f76127M1.m46307A());
                hashMap.put("current_longitude", "" + this.f76127M1.m46306B());
            } else {
                hashMap.put("current_latitude", "" + this.f100211u0.m23618E0().f76791u0);
                hashMap.put("current_longitude", "" + this.f100211u0.m23618E0().f76792v0);
            }
            if (str.equals("")) {
                hashMap.put("latitude", "" + this.f76128N0.f76710v0.getShop().getNearestBranchLat());
                hashMap.put("longitude", "" + this.f76128N0.f76710v0.getShop().getNearestBranchLong());
            } else {
                hashMap.put("m4b_branch_id", str);
            }
            hashMap.put("selected_theme", this.f100211u0.m23346v1());
            Call<GetBranchList> m2714S0 = ApiHandlerNew.m2231b(this.f100211u0).m2714S0(hashMap);
            this.f76119F1 = m2714S0;
            m2714S0.mo37725j(new C23073h(str));
        }
    }

    /* renamed from: m5 */
    private void m41905m5(boolean z) {
        this.f76168x1.m9050n(this.f76150f1);
        this.f76168x1.m9048p(this.f76128N0.f76710v0);
        if (!m41984C4()) {
            this.f76161q1.m6890i(this.f76168x1);
            if (z) {
                this.f76161q1.m6878u();
                return;
            }
            return;
        }
        this.f76161q1.m6884o(Boolean.TRUE);
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: n4 */
    public void m41903n4(int i, final MenuLoad menuLoad) {
        C28092f3 c28092f3;
        if (!isFinishing() && (c28092f3 = this.f100211u0) != null && c28092f3.m23363s2()) {
            this.f76162r1.m6918y();
            Sentry.m30985d("ServiceDetailActivity - callBusinessMenu - type: " + menuLoad);
            if (i != -1) {
                this.f76135Q1 = this.f76128N0.f76710v0.getShop().getBranchLocations().get(i).getBranchId();
            } else {
                this.f76135Q1 = "-1";
            }
            ServiceMenuLoader m7868a = new ServiceMenuProviderImpl(new ServiceMenuData(this, i, menuLoad)).m7868a();
            this.f76118E1 = m7868a;
            m7868a.mo7867a(new InterfaceC2029l() { // from class: ml.u
                @Override // bs.InterfaceC2029l
                public final Object invoke(Object obj) {
                    Unit m41980E4;
                    m41980E4 = ServiceDetailActivity.this.m41980E4(menuLoad, (MenuLoadingRequest) obj);
                    return m41980E4;
                }
            });
        }
    }

    /* renamed from: n5 */
    private void m41902n5() {
        if (this.f76141W0.getVisibility() != 0) {
            this.f76141W0.setVisibility(0);
        }
        this.f76141W0.m41703A(new StoreInfoItem(this.f76128N0.f76710v0, this.f76164t1));
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: o4 */
    public void m41900o4() {
        if (this.f76128N0.f76710v0.getShop().isBomsLinked().booleanValue() && C27010b.f90545M.m27319c() && m41982D4() && this.f76169y1 != -1) {
            this.f76125L1.m5200e(this.f76128N0.f76710v0.getShop(), this.f76128N0.f76710v0.getShop().getBranchLocations().get(this.f76169y1));
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: o5 */
    public void m41899o5(int i) {
        if (this.f76146b1.getHeight() + i < this.f76146b1.getScrimVisibleHeightTrigger()) {
            if (this.f76155k1) {
                return;
            }
            this.f76155k1 = true;
            if (!this.f100211u0.m23421j2()) {
                StatusBarUtil.m23195b(this);
            }
            this.f76148d1.setVisibility(0);
            this.f76143Y0.setVisibility(8);
            if (m41984C4()) {
                this.f76138T0.setVisibility(0);
            } else {
                this.f76140V0.setVisibility(0);
            }
        } else if (!this.f76155k1) {
        } else {
            this.f76155k1 = false;
            StatusBarUtil.m23196a(this);
            this.f76148d1.setVisibility(4);
            this.f76143Y0.setVisibility(0);
            this.f76138T0.setVisibility(8);
            this.f76140V0.setVisibility(8);
        }
    }

    /* renamed from: p4 */
    private void m41897p4() {
        AppSingleton appSingleton;
        FourSquareMainBean fourSquareMainBean;
        C28092f3 c28092f3 = this.f100211u0;
        if (c28092f3 != null && c28092f3.m23363s2() && (appSingleton = this.f76128N0) != null && (fourSquareMainBean = appSingleton.f76709u0) != null && fourSquareMainBean.getShopId() != null && this.f100211u0.m23456e2()) {
            this.f100211u0.m23578K4();
            HashMap hashMap = new HashMap();
            hashMap.put("vShopId", this.f76128N0.f76709u0.getShopId());
            ApiHandlerNew.m2231b(this.f100211u0).m2726M0(hashMap).mo37725j(new C23072g());
        }
    }

    /* renamed from: q4 */
    private void m41895q4() {
        String str;
        if (!isFinishing() && this.f100211u0 != null) {
            Fragment fragment = this.f76114A1;
            if (fragment instanceof OrderDetailsFragment) {
                OrderDetailsFragment orderDetailsFragment = (OrderDetailsFragment) fragment;
                m41948U4(orderDetailsFragment.f93571q1.m20661h());
                HashMap hashMap = new HashMap();
                if (this.f76128N0.f76710v0.getShop().isShowItemList().booleanValue()) {
                    for (int i = 0; i < orderDetailsFragment.m23750Y1().size(); i++) {
                        if (!orderDetailsFragment.m23750Y1().get(i).getDescription().equals("") && !orderDetailsFragment.m23750Y1().get(i).getQty().equals("")) {
                            hashMap.put(ApiHandlerNew.m2228e(i) + "[quantity]", String.valueOf(orderDetailsFragment.m23750Y1().get(i).getQty()));
                            hashMap.put(ApiHandlerNew.m2228e(i) + "[item_name]", String.valueOf(orderDetailsFragment.m23750Y1().get(i).getDescription()));
                        }
                    }
                }
                String m23744c2 = orderDetailsFragment.m23744c2(false);
                if (TextUtils.isEmpty(m23744c2)) {
                    m23744c2 = orderDetailsFragment.f93581z0.getText().toString();
                }
                String str2 = m23744c2;
                CreateOrderViewModel createOrderViewModel = this.f76125L1;
                boolean z = orderDetailsFragment.f93566l1;
                String shopId = this.f76128N0.f76709u0.getShopId();
                int i2 = orderDetailsFragment.f93527C0;
                int i3 = orderDetailsFragment.f93523A0;
                boolean isManualBranchSelect = this.f76128N0.f76710v0.getShop().isManualBranchSelect();
                String trim = orderDetailsFragment.f93581z0.getText().toString().trim();
                int intValue = this.f100211u0.m23504X0(orderDetailsFragment.f93552X0, orderDetailsFragment.f93554Z0).intValue();
                String m23642A0 = this.f100211u0.m23642A0(orderDetailsFragment.f93552X0, orderDetailsFragment.f93554Z0);
                if (this.f76128N0.f76710v0.getShop().isShowItemList().booleanValue()) {
                    str = "ITEM_LIST";
                } else {
                    str = "TEXT";
                }
                createOrderViewModel.m5197h(new CreateOrderBean(z, shopId, null, str2, i2, i3, isManualBranchSelect, trim, intValue, m23642A0, str, OrderDetailsFragment.f93522G1, null, orderDetailsFragment.f93524A1, hashMap, 0.0d, null, this.f100211u0.m23636B0(orderDetailsFragment.f93552X0, orderDetailsFragment.f93554Z0), "", null));
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: r4 */
    public void m41893r4(EnumC23075j enumC23075j) {
        ShopDetails shopDetails;
        MenuResult menuResult;
        if (!isFinishing() && this.f100211u0.m23363s2()) {
            EnumC23075j enumC23075j2 = EnumC23075j.PULL_TO_REFRESH;
            if (enumC23075j != enumC23075j2 && enumC23075j != EnumC23075j.BRANCH_CHANGE) {
                m41917i5();
            }
            HashMap<String, String> hashMap = new HashMap<>();
            hashMap.put("vShopId", this.f76149e1);
            Constant.f93948X = this.f76149e1;
            hashMap.put("type", "2");
            if (this.f100211u0.m23592I2()) {
                hashMap.put("iUserId", String.valueOf(this.f100211u0.m23334x1().m23222j("user_id")));
            }
            hashMap.put("language", String.valueOf(this.f100211u0.m23624D0()));
            hashMap.put("vLanguage", this.f100211u0.m23624D0());
            if (enumC23075j != enumC23075j2 && (menuResult = this.f76127M1) != null && menuResult.m46307A() != 0.0d && this.f76127M1.m46306B() != 0.0d) {
                hashMap.put("user_lat", "" + this.f76127M1.m46307A());
                hashMap.put("user_long", "" + this.f76127M1.m46306B());
            } else {
                hashMap.put("user_lat", "" + this.f100211u0.m23618E0().f76791u0);
                hashMap.put("user_long", "" + this.f100211u0.m23618E0().f76792v0);
            }
            if (enumC23075j != EnumC23075j.INIT && (shopDetails = this.f76128N0.f76710v0) != null && shopDetails.getShop() != null && !TextUtils.isEmpty(this.f76128N0.f76710v0.getShop().getShopBranchId())) {
                hashMap.put("shop_branch_id", "" + this.f76128N0.f76710v0.getShop().getShopBranchId());
            }
            int i = this.f76152h1;
            if (i != -1) {
                hashMap.put("global_promotion_id", String.valueOf(i));
            }
            hashMap.put("selected_theme", this.f100211u0.m23346v1());
            Call<ShopDetails> m2694b1 = ApiHandlerNew.m2231b(this.f100211u0).m2694b1(hashMap);
            this.f76120G1 = m2694b1;
            m2694b1.mo37725j(new C23071f(enumC23075j, hashMap));
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: s4 */
    public void m41891s4() {
        if (this.f76115B1) {
            this.f76114A1 = new LoadingFragment();
        } else if (this.f76150f1 && !this.f76128N0.f76710v0.getOrderNowLabelDetail().isUserSelectWriteOrderOnly()) {
            this.f76114A1 = new ServiceDetailsFragment();
        } else {
            this.f76161q1.m6878u();
            this.f76114A1 = new OrderDetailsFragment();
        }
        FragmentManager supportFragmentManager = getSupportFragmentManager();
        Fragment m94685j0 = supportFragmentManager.m94685j0(R.id.fragmentContainer);
        if (m94685j0 != null) {
            FragmentTransaction m94665q = supportFragmentManager.m94665q();
            m94665q.mo94537s(m94685j0);
            m94665q.mo94545k();
        }
        FragmentTransaction m94665q2 = supportFragmentManager.m94665q();
        m94665q2.m94553c(R.id.fragmentContainer, this.f76114A1, "");
        m94665q2.mo94545k();
        this.f100211u0.m23479b0(10L, new RunnableC23070e());
    }

    /* renamed from: t4 */
    private void m41889t4() {
        this.f76164t1 = new C23066a();
        this.f76166v1 = new C23067b();
    }

    /* renamed from: u4 */
    private int m41887u4() {
        int i;
        if (this.f76128N0.f76710v0.getShop().getBranchLocations() != null) {
            i = this.f76128N0.f76710v0.getShop().getBranchLocations().size();
        } else {
            i = 0;
        }
        for (int i2 = 0; i2 < i; i2++) {
            if (this.f76128N0.f76710v0.getShop().getBranchLocations().get(i2).isSelected() == 1) {
                Constant.C28169a.f94098i = this.f76128N0.f76710v0.getShop().getBranchLocations().get(i2).getBranchId();
                this.f76133P1 = this.f76128N0.f76710v0.getShop().getBranchLocations().get(i2).getM4bBranchId();
                return i2;
            }
        }
        Constant.C28169a.m23159a();
        return -1;
    }

    /* renamed from: v4 */
    private void m41885v4() {
        Bundle extras = getIntent().getExtras();
        if (extras != null) {
            this.f76149e1 = extras.getString(Constant.f94071w0);
            this.f76152h1 = extras.getInt(Constant.f93958Z1, -1);
            this.f76153i1 = extras.getInt(Constant.f93963a2, -1);
            this.f76151g1 = (CTEventBean) extras.get("extras_ct_events");
            if (extras.containsKey("menu_item_details")) {
                this.f76129N1 = true;
                this.f76127M1 = (MenuResult) extras.getParcelable("menu_item_details");
            }
        }
    }

    /* renamed from: w4 */
    private StoreInfoItem m41883w4() {
        return new StoreInfoItem(this.f76128N0.f76710v0, this.f76169y1, this.f76164t1);
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: x4 */
    public void m41881x4() {
        Intent intent;
        if (this.f76150f1 && this.f76170z1.mo23842P()) {
            if (C27010b.f90553U.m27319c()) {
                intent = new Intent(this, M4bCheckoutActivity.class);
            } else {
                intent = new Intent(this, MenuOrderActivityStep1.class);
            }
            intent.putExtra("selected_mbo_branch_id", this.f76135Q1);
            intent.putExtra("business_account_id", Constant.C28169a.f94094e);
            intent.putExtra("business_branch_id", Constant.C28169a.f94095f);
            intent.putExtra(Constant.f93870F1, this.f76128N0.f76710v0.getShop().isPickupFixed());
            intent.putExtra(Constant.f93875G1, this.f76128N0.f76710v0.getShop().isDropoffFixed());
            intent.putExtra("should_show_location_tooltip", this.f76131O1);
            intent.putExtra(Constant.f93880H1, this.f76128N0.f76710v0.getShop().isPickupAvailable());
            intent.putExtra(Constant.f93885I1, this.f76128N0.f76710v0.getShop().isDropoffAvailable());
            if (this.f76128N0.f76710v0.getShop().isPickupFixed().intValue() == 1) {
                intent.putExtra(Constant.f93890J1, this.f76128N0.f76710v0.getShop().getPlatitude());
                intent.putExtra(Constant.f93895K1, this.f76128N0.f76710v0.getShop().getPlongitude());
                intent.putExtra(Constant.f93900L1, this.f76128N0.f76710v0.getShop().getVPickupAddress());
            }
            if (this.f76128N0.f76710v0.getShop().isDropoffFixed().intValue() == 1) {
                intent.putExtra(Constant.f93905M1, this.f76128N0.f76710v0.getShop().getDlatitude());
                intent.putExtra(Constant.f93910N1, this.f76128N0.f76710v0.getShop().getDlongitude());
                intent.putExtra(Constant.f93914O1, this.f76128N0.f76710v0.getShop().getVDropoffAddress());
            }
            startActivityForResult(intent, 103);
            this.f76131O1 = false;
            return;
        }
        m4300d3(true);
        m41895q4();
    }

    /* renamed from: z4 */
    private void m41877z4() {
        this.f76142X0 = (ConstraintLayout) findViewById(R.id.clImageHeader);
        this.f76143Y0 = (ConstraintLayout) findViewById(R.id.clHeaderButton);
        this.f76145a1 = (AppBarLayout) findViewById(R.id.appbar);
        this.f76146b1 = (CollapsingToolbarLayout) findViewById(R.id.collapsingToolbar);
        this.f76158n1 = (ProgressBar) findViewById(R.id.pgLoadMore);
        this.f76147c1 = (FrameLayout) findViewById(R.id.fragmentContainer);
        this.f76138T0 = findViewById(R.id.toolbarSearch);
        this.f76137S0 = findViewById(R.id.loadingView);
        this.f76140V0 = (AppCompatTextView) findViewById(R.id.tvToolbarTitle);
        this.f76148d1 = (Toolbar) findViewById(R.id.toolbar);
        this.f76139U0 = (PullToRefreshView) findViewById(R.id.pullToRefresh);
        this.f76141W0 = (ServiceHeaderInfoView) findViewById(R.id.clServiceDetail);
        this.f76130O0 = (ImageView) findViewById(R.id.ivBack);
        this.f76134Q0 = (ImageView) findViewById(R.id.ivShare);
        this.f76132P0 = (ImageView) findViewById(R.id.ivBackHeader);
        this.f76136R0 = (ImageView) findViewById(R.id.ivShareHeader);
        if (this.f100211u0.m23470c2()) {
            this.f76130O0.setScaleX(-1.0f);
            this.f76132P0.setScaleX(-1.0f);
        }
        this.f76130O0.setOnClickListener(this);
        this.f76132P0.setOnClickListener(this);
        this.f76136R0.setOnClickListener(this);
        this.f76134Q0.setOnClickListener(this);
        this.f76138T0.setOnClickListener(this);
        m41893r4(EnumC23075j.INIT);
        this.f76139U0.setOnRefreshListener(new C23068c());
        ViewCompat.m95700F0(this.f76145a1, new OnApplyWindowInsetsListener() { // from class: ml.y
            @Override // androidx.core.view.OnApplyWindowInsetsListener
            /* renamed from: a */
            public final WindowInsetsCompat mo23699a(View view, WindowInsetsCompat windowInsetsCompat) {
                WindowInsetsCompat m41978F4;
                m41978F4 = ServiceDetailActivity.this.m41978F4(view, windowInsetsCompat);
                return m41978F4;
            }
        });
        this.f76145a1.m52924d(new C23069d());
    }

    @Override // ml.ServiceDetails
    /* renamed from: K */
    public EstimatedCostView mo23880K() {
        return this.f76162r1;
    }

    @Override // ml.ServiceDetails
    /* renamed from: K0 */
    public void mo23879K0() {
        TransitionManager.m92311b((ViewGroup) this.f76158n1.getParent(), new Fade().mo92275Z(300L));
        this.f100211u0.m23596H4(0, this.f76147c1, this.f76145a1);
    }

    @Override // ml.ServiceDetails
    /* renamed from: M0 */
    public void mo23878M0() {
        m41905m5(true);
    }

    @Override // ml.ServiceDetails
    /* renamed from: N0 */
    public OrderNowFloatingActionView mo23877N0() {
        return this.f76167w1;
    }

    @Override // ml.ServiceDetails
    /* renamed from: O0 */
    public MenuResult mo23876O0() {
        return this.f76127M1;
    }

    @Override // ml.ServiceDetails
    /* renamed from: Q */
    public boolean mo23875Q() {
        return this.f76129N1;
    }

    @Override // ml.ServiceDetails
    /* renamed from: Q0 */
    public void mo23874Q0(int i) {
        this.f76161q1.m6880s(i, true);
    }

    @Override // ml.ServiceDetails
    /* renamed from: X */
    public int mo23873X() {
        return this.f76141W0.getMeasuredHeight();
    }

    @Override // p1161qi.ActivityC30137j
    /* renamed from: Z1 */
    protected String[] mo15682Z1() {
        return new String[]{"broadcast_internet_on_off"};
    }

    /* renamed from: a5 */
    public void m41936a5() {
        C28092f3.m23460d5(new TryCatchListener() { // from class: ml.a0
            @Override // mm.TryCatchListener
            public final void execute() {
                ServiceDetailActivity.this.m41964M4();
            }
        });
    }

    @Override // ml.ServiceDetails
    /* renamed from: b1 */
    public void mo23872b1() {
        OrderNowActionItem orderNowActionItem;
        if (this.f76161q1 != null && (orderNowActionItem = this.f76168x1) != null && orderNowActionItem.f107438b != null) {
            this.f76141W0.m41699E(m41984C4());
            if (m41984C4()) {
                this.f76167w1.m6863j(this.f76168x1, true);
            } else {
                this.f76161q1.m6889j(this.f76168x1, true);
            }
        }
    }

    /* renamed from: b5 */
    public void m41934b5() {
        if (!Constant.f93986f0) {
            Constant.f94011k0 = this.f76122I1;
            Constant.f94016l0 = this.f76123J1;
        }
        new SendOrderDetailScreenManager(this.f76122I1, this.f76123J1).m5206d();
        Intent intent = new Intent();
        intent.putExtra(Constant.f93855C1, true);
        setResult(-1, intent);
        finish();
    }

    /* JADX INFO: Access modifiers changed from: protected */
    @Override // p1161qi.ActivityC30137j
    /* renamed from: j2 */
    public void mo15672j2(Intent intent) {
        ServiceMenuLoader serviceMenuLoader;
        super.mo15672j2(intent);
        if (intent != null && intent.getAction() != null && intent.getAction().equals("broadcast_internet_on_off") && this.f100211u0.m23559O() && (serviceMenuLoader = this.f76118E1) != null) {
            serviceMenuLoader.mo7866b();
        }
    }

    @Override // p1357xk.OnManualDoneListner
    /* renamed from: l0 */
    public void mo541l0(String str) {
        String str2;
        if ("getDeepLink".equals(str)) {
            C28092f3 c28092f3 = this.f100211u0;
            String string = getResources().getString(R.string.msg_share_shop);
            Object[] objArr = new Object[2];
            objArr[0] = this.f76128N0.f76710v0.getShop().getVTitle();
            DeeplinkBean deeplinkBean = this.f76159o1;
            if (deeplinkBean != null) {
                str2 = deeplinkBean.getUrl();
            } else {
                str2 = "";
            }
            objArr[1] = str2;
            c28092f3.m23349u4(String.format(string, objArr));
        } else if ("placeNewOrder".equals(str)) {
            m41934b5();
        }
    }

    @Override // ml.ServiceDetails
    /* renamed from: n */
    public void mo23871n() {
        this.f76145a1.setExpanded(false);
    }

    @Override // androidx.fragment.app.FragmentActivity, androidx.activity.ComponentActivity, android.app.Activity
    public void onActivityResult(int i, int i2, Intent intent) {
        OrderDetailFlow orderDetailFlow;
        super.onActivityResult(i, i2, intent);
        if (i2 == -1) {
            switch (i) {
                case 102:
                    this.f76141W0.m41700D(false);
                    this.f76141W0.setMenuReloadCount(0);
                    this.f76169y1 = intent.getIntExtra(Constant.f94051s0, 0);
                    Constant.C28169a.f94098i = this.f76128N0.f76710v0.getShop().getBranchLocations().get(this.f76169y1).getBranchId();
                    this.f76128N0.f76710v0.getShop().setShopBranchId(Constant.C28169a.f94098i);
                    m41914j5();
                    m41900o4();
                    this.f76128N0.f76710v0.getOrderNowLabelDetail().setUserSelectMenuOnly(false);
                    Constant.C28169a.f94091b.clear();
                    this.f76168x1.m9053k();
                    this.f76161q1.m6884o(Boolean.valueOf(m41984C4()));
                    this.f76167w1.m6860m();
                    this.f76167w1.m6864i(this.f76168x1);
                    this.f76167w1.m6855r();
                    this.f76161q1.m6881r(8);
                    if (this.f76128N0.f76710v0.getShop().isBomsLinked().booleanValue()) {
                        this.f76168x1.m9052l();
                        if (!(this.f76114A1 instanceof ServiceDetailsFragment)) {
                            this.f76115B1 = true;
                            m41936a5();
                        }
                        m41903n4(this.f76169y1, MenuLoad.BRANCH_CHANGE);
                    } else {
                        this.f76150f1 = false;
                        if (!(this.f76114A1 instanceof OrderDetailsFragment)) {
                            m41936a5();
                        }
                        m41905m5(true);
                    }
                    m41893r4(EnumC23075j.BRANCH_CHANGE);
                    return;
                case 103:
                    if (intent != null && intent.getBooleanExtra(Constant.f93855C1, false)) {
                        String stringExtra = intent.getStringExtra(Constant.f94021m0);
                        if (Constant.f94083y2.equals(intent.getStringExtra(Constant.f94036p0))) {
                            orderDetailFlow = OrderDetailFlow.M4B_ORDER_FLOW;
                        } else {
                            orderDetailFlow = OrderDetailFlow.NON_M4B_ORDER_FLOW;
                        }
                        new SendOrderDetailScreenManager(stringExtra, orderDetailFlow).m5206d();
                        finish();
                        return;
                    }
                    this.f76170z1.mo23847N();
                    this.f76170z1.mo23817h0();
                    if (intent != null && intent.getBooleanExtra(Constant.f94049r3, false)) {
                        mo23874Q0(8);
                        m41903n4(this.f76169y1, MenuLoad.REFRESH_MENU);
                        return;
                    }
                    return;
                case 104:
                    this.f76168x1.m9047q(this.f76128N0.f76710v0);
                    if (this.f76168x1.f107439c.isUserSelectWriteOrderOnly() && !this.f76168x1.f107439c.isUserSelectMenuOnly()) {
                        this.f76150f1 = false;
                        m41936a5();
                        m41911k5();
                        return;
                    }
                    this.f76170z1.mo23847N();
                    this.f76170z1.mo23817h0();
                    return;
                default:
                    return;
            }
        }
    }

    @Override // android.view.View.OnClickListener
    public void onClick(View view) {
        if (view != this.f76130O0 && view != this.f76132P0) {
            if (view != this.f76134Q0 && view != this.f76136R0) {
                if (view == this.f76138T0 && this.f100211u0.m23456e2()) {
                    startActivityForResult(new Intent(this, MenuSearchActivity.class), 104);
                    return;
                }
                return;
            }
            m41897p4();
            return;
        }
        m41928e5();
        onBackPressed();
    }

    /* JADX INFO: Access modifiers changed from: protected */
    @Override // p1324wl.MenuOrderBaseActivity, p1161qi.ActivityC30137j, androidx.fragment.app.FragmentActivity, androidx.activity.ComponentActivity, androidx.core.app.ComponentActivity, android.app.Activity
    public void onCreate(Bundle bundle) {
        boolean z;
        super.onCreate(bundle);
        StatusBarUtil.m23193d(this);
        setContentView(R.layout.activity_service_detail_new);
        if (bundle != null) {
            z = true;
        } else {
            z = false;
        }
        this.f76117D1 = z;
        Constant.f93976d0 = true;
        Constant.C28169a.m23158b();
        this.f76116C1 = new BranchLogger(this);
        this.f76128N0 = (AppSingleton) getApplicationContext();
        this.f76144Z0 = new CleverTapEvents(this);
        m41889t4();
        if (!this.f100211u0.m23421j2()) {
            StatusBarUtil.m23195b(this);
        }
        StrictMode.setThreadPolicy(new StrictMode.ThreadPolicy.Builder().permitAll().build());
        m41885v4();
        if (bundle != null) {
            this.f76154j1 = bundle.getBoolean("key_amplitude_event_logged", false);
        }
        m41986B4();
        m41877z4();
        m41988A4();
    }

    /* JADX INFO: Access modifiers changed from: protected */
    @Override // p1161qi.ActivityC30137j, androidx.appcompat.app.AppCompatActivity, androidx.fragment.app.FragmentActivity, android.app.Activity
    public void onDestroy() {
        C28092f3.m23460d5(new TryCatchListener() { // from class: ml.z
            @Override // mm.TryCatchListener
            public final void execute() {
                ServiceDetailActivity.this.m41962N4();
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: protected */
    @Override // androidx.activity.ComponentActivity, android.app.Activity
    public void onNewIntent(Intent intent) {
        super.onNewIntent(intent);
        setIntent(intent);
        m41877z4();
    }

    /* JADX INFO: Access modifiers changed from: protected */
    @Override // androidx.fragment.app.FragmentActivity, android.app.Activity
    public void onPause() {
        super.onPause();
        Constant.f93976d0 = false;
    }

    /* JADX INFO: Access modifiers changed from: protected */
    @Override // androidx.fragment.app.FragmentActivity, android.app.Activity
    public void onResume() {
        super.onResume();
        C28092f3.m23460d5(new TryCatchListener() { // from class: ml.x
            @Override // mm.TryCatchListener
            public final void execute() {
                ServiceDetailActivity.this.m41960O4();
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: protected */
    @Override // androidx.activity.ComponentActivity, androidx.core.app.ComponentActivity, android.app.Activity
    public void onSaveInstanceState(Bundle bundle) {
        bundle.putBoolean("key_amplitude_event_logged", this.f76154j1);
        super.onSaveInstanceState(bundle);
    }

    /* renamed from: y4 */
    public void m41879y4() {
        this.f76139U0.setRefreshing(false);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* renamed from: com.mrsool.service.ServiceDetailActivity$c */
    /* loaded from: classes3.dex */
    public class C23068c implements PullToRefreshView.InterfaceC23255a {
        C23068c() {
        }

        @Override // com.mrsool.utils.widgets.refresh.PullToRefreshView.InterfaceC23255a
        /* renamed from: b */
        public boolean mo41021b() {
            return ServiceDetailActivity.this.f76150f1;
        }

        @Override // com.mrsool.utils.widgets.refresh.PullToRefreshView.InterfaceC23255a
        /* renamed from: c */
        public void mo41020c(boolean z) {
            if (z) {
                C28092f3 c28092f3 = ServiceDetailActivity.this.f100211u0;
                c28092f3.m23590I4(c28092f3.m23559O(), ServiceDetailActivity.this.f76137S0);
            } else {
                ServiceDetailActivity.this.f76139U0.setEnabled(false);
                ServiceDetailActivity serviceDetailActivity = ServiceDetailActivity.this;
                serviceDetailActivity.f100211u0.m23590I4(false, serviceDetailActivity.f76137S0);
            }
            if (!z) {
                ServiceDetailActivity.this.f76139U0.setEnabled(true);
            } else if (!ServiceDetailActivity.this.f100211u0.m23559O()) {
                ServiceDetailActivity serviceDetailActivity2 = ServiceDetailActivity.this;
                serviceDetailActivity2.f100211u0.m23524T4(serviceDetailActivity2.getString(R.string.msg_info_internet_connection));
                ServiceDetailActivity.this.f76139U0.setRefreshing(false);
            } else {
                ServiceDetailActivity serviceDetailActivity3 = ServiceDetailActivity.this;
                serviceDetailActivity3.f76161q1.m6884o(Boolean.valueOf(serviceDetailActivity3.m41984C4()));
                ServiceDetailActivity.this.m4310T2(Constant.C28169a.f94091b);
                ServiceDetailActivity serviceDetailActivity4 = ServiceDetailActivity.this;
                serviceDetailActivity4.m41903n4(serviceDetailActivity4.f76169y1, MenuLoad.PULL_TO_REFRESH);
            }
        }

        @Override // com.mrsool.utils.widgets.refresh.PullToRefreshView.InterfaceC23255a
        /* renamed from: a */
        public void mo41022a(int i, boolean z) {
        }
    }
}
